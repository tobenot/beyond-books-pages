(()=>{var e={3557:(e,t,n)=>{"use strict";var r=n(4048),o=n(388),a=(n(3792),n(3362),n(9085),n(9391),n(3751)),c=n(1034),i=(n(2675),n(9463),n(641)),s=n(953),u=n(33),l=["innerHTML"],p={class:"button-container"};const d=Object.assign({name:"ModalDialog"},{__name:"ModalDialog",props:{show:{type:Boolean,required:!0},title:{type:String,default:""},content:{type:String,default:""},closeButtonText:{type:String,default:"关闭"},closeOnBackdrop:{type:Boolean,default:!0},large:{type:Boolean,default:!1}},emits:["close"],setup:function(e,t){var n=t.emit,r=e,o=n,c=function(){o("close")};return(0,i.wB)((function(){return r.show}),(function(e){document.body.style.overflow=e?"hidden":""})),(0,i.xo)((function(){document.body.style.overflow=""})),function(t,n){return(0,i.uX)(),(0,i.Wv)(a.eB,{name:"modal-fade"},{default:(0,i.k6)((function(){return[e.show?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal",onClick:n[0]||(n[0]=(0,a.D$)((function(t){return e.closeOnBackdrop&&c()}),["self"]))},[(0,i.Lk)("div",{class:(0,u.C4)(["modal-content",{"modal-large":e.large}])},[(0,i.Lk)("h2",null,(0,u.v_)(e.title),1),(0,i.Lk)("div",{class:"modal-scroll",innerHTML:e.content},null,8,l),(0,i.Lk)("div",p,[(0,i.RG)(t.$slots,"buttons",{},(function(){return[(0,i.Lk)("button",{class:"button",onClick:c},(0,u.v_)(e.closeButtonText),1)]}))])],2)])):(0,i.Q3)("",!0)]})),_:3})}}});var v=n(6262);const f=(0,v.A)(d,[["__scopeId","data-v-9985e8d8"]]),m=f;n(6280),n(6918),n(8706),n(1629),n(2062),n(4114),n(4782),n(6910),n(3288),n(9432),n(6099),n(6034),n(8940),n(4864),n(7465),n(7495),n(7745),n(8781),n(7764),n(5440),n(1392),n(375),n(3500),n(2953),n(6031);var h=function(){return"/vue/assets"},g=(0,s.KR)({terms:{}}),A=(0,s.KR)({colors:{}}),k=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,n,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=h(),e.next=4,fetch("".concat(t,"/lang/terms_explanations_zh-CN.json?v=").concat((new Date).getTime()));case 4:return n=e.sent,e.next=7,n.json();case 7:o=e.sent,g.value=o,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.error("加载名词配置文件时出错:",e.t0);case 15:y();case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var t,n,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=h(),e.next=4,fetch("".concat(t,"/config/colors.json?v=").concat((new Date).getTime()));case 4:return n=e.sent,e.next=7,n.json();case 7:o=e.sent,A.value=o,console.log("Loaded colors config:",A.value),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.error("加载色盘配置文件时出错:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();function S(e){var t=e.replace("#",""),n=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2,2),16),o=parseInt(t.substr(4,2),16),a=.299*n+.587*r+.114*o;return a<128}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=g.value.terms,r=A.value.colors,o=[],a=2,c={};return Object.keys(n).forEach((function(i){if(i!==t){var s,u=r[n[i].color]||n[i].color,l=new RegExp(i,"g");while(null!==(s=l.exec(e)))if(c[i]=(c[i]||0)+1,c[i]<=a){var p=S(u),d=p?"-1px -1px 2px #222, 1px -1px 2px #222, -1px 1px 2px #222, 1px 1px 2px #222":"-1px -1px 2px #000, 1px -1px 2px #000, -1px 1px 2px #000, 1px 1px 2px #000";o.push({term:i,start:s.index,end:s.index+i.length,color:u,textShadow:d})}}})),o.sort((function(e,t){return t.start-e.start})),o.forEach((function(t){e=e.slice(0,t.start)+'<span class="special-term" style="font-weight: bold; color: '.concat(t.color,"; text-shadow: ").concat(t.textShadow,';" data-term="').concat(t.term,'">').concat(t.term,"</span>")+e.slice(t.end)})),e}function y(){return x.apply(this,arguments)}function x(){return x=(0,o.A)((0,r.A)().mark((function e(){var t,n,o,a,c,i,s,u=arguments;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=u.length>0&&void 0!==u[0]?u[0]:5,n=u.length>1&&void 0!==u[1]?u[1]:1e3,o=[],a=h(),Object.values(g.value.terms).forEach((function(e){if(e.imageUrl){var t=e.imageUrl.startsWith("http")?e.imageUrl:"".concat(a).concat(e.imageUrl);o.push(t)}})),c=0;case 6:if(!(c<o.length)){e.next=23;break}return i=o.slice(c,c+t),s=i.map((function(e){return new Promise((function(t,n){var r=new Image;r.src=e,r.onload=function(){return t(e)},r.onerror=function(){return n(new Error("Failed to load image: ".concat(e)))}}))})),e.prev=9,e.next=12,Promise.all(s);case 12:console.log("Batch ".concat(Math.floor(c/t)+1," preloaded successfully")),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](9),console.error("Error preloading images:",e.t0);case 18:return e.next=20,new Promise((function(e){return setTimeout(e,n)}));case 20:c+=t,e.next=6;break;case 23:console.log("All images preloaded successfully");case 24:case"end":return e.stop()}}),e,null,[[9,15]])}))),x.apply(this,arguments)}var E=["innerHTML"],C=["src"];const _={__name:"TermTooltip",props:{show:Boolean,description:String,imageUrl:String,term:String,event:Object},setup:function(e){var t=e,n=(0,s.KR)({position:"fixed",display:"none",minWidth:"150px"}),r=(0,i.EW)((function(){return w(t.description,t.term)}));function o(){if(t.event){var e=document.documentElement.clientWidth,r=document.documentElement.clientHeight,o=document.getElementById("term-tooltip");if(o){var a=o.offsetWidth,i=o.offsetHeight,s=t.event.clientY+10,u=t.event.clientX+10,l=e/3,p=t.event.clientX;u=p<=l?t.event.clientX+10:p>=2*l?t.event.clientX-a-10:Math.max(10,t.event.clientX-a/2),s+i>r&&(s=r-i-10),u<0?u=10:u+a>e&&(u=e-a-10),n.value=(0,c.A)((0,c.A)({},n.value),{},{top:"".concat(s,"px"),left:"".concat(u,"px")})}}}return function(t,c){return(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{id:"term-tooltip",style:(0,u.Tr)(n.value),onClick:c[0]||(c[0]=(0,a.D$)((function(){}),["stop"]))},[(0,i.Lk)("span",{innerHTML:r.value},null,8,E),e.imageUrl?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.imageUrl,class:"term-tooltip-image",alt:"术语图片",onLoad:o},null,40,C)):(0,i.Q3)("",!0)],4)),[[a.aG,e.show]])}}},L=(0,v.A)(_,[["__scopeId","data-v-0db7b0f9"]]),I=L;var T={id:"app"};const P=Object.assign({name:"AppRoot"},{__name:"App",setup:function(e,t){var n=t.expose,r=(0,s.KR)(!1),o=(0,s.KR)(""),a=(0,s.KR)(""),u=(0,s.KR)(""),l=(0,s.KR)(null),p=(0,s.KR)({});n({showModal:v,hideModal:f}),(0,i.sV)((function(){k(),b()}));var d=function(e){if(e.target.classList.contains("special-term")){var t=e.target.getAttribute("data-term"),n=g.value.terms[t];o.value=n.description,a.value=n.imageUrl,u.value=t,l.value=e,r.value=!0}else e.target.closest("#term-tooltip")||(r.value=!1)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p.value[e]=(0,c.A)((0,c.A)({},t),{},{show:!0})},f=function(e){p.value[e]&&(p.value[e].show=!1,delete p.value[e])};return(0,i.sV)((function(){document.addEventListener("click",d)})),(0,i.hi)((function(){document.removeEventListener("click",d)})),function(e,t){var n=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",T,[(0,i.bF)(n),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(p.value,(function(e,t){return(0,i.uX)(),(0,i.Wv)(m,(0,i.v6)({key:t,ref_for:!0},e,{onClose:function(e){return f(t)}}),null,16,["onClose"])})),128)),(0,i.bF)(I,{show:r.value,description:o.value,imageUrl:a.value,term:u.value,event:l.value},null,8,["show","description","imageUrl","term","event"])])}}}),O=P,B=O;var U=n(5220),K={BASE_PATH:"/vue/",ASSETS_PREFIX:"/vue/",API_BASE_URL:"/vue/"};const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9klEQVQ4jWNgwA3mAPEfKJ6FRx1OANL4H4r/EFLMAsSmQMwG5UshaYZhEagcSI0VVA8cLIYqegzE/UB8EYsBR4C4DojvQPmLYJrNsSgmFoNcwhCFQ/ISEOdB8WUcahJABrAC8QQg/oummQPJixxohvwC4gYgZkYOh1YkBXkMmCAfSb4OizxDGwkGtCNLsAPxRDQvXEbzAicQX0GS/wv1Nsj7DGkM2APoMtTWfDTNyDgCZIAxmu2kYFuYE6dBBa4BcQ0DJNGgKz4PxL1A/BzKX4ccDoxArA7ETFC+CBYDJKByPEDsjBZGWAFJmQkbmMWAyM4zcSkCACP+g11NunLfAAAAAElFTkSuQmCC";var D=n(6278),$={class:"container",id:"menu"},N={id:"gameDescription"},R={class:"menu-controls"},X={class:"control-pair",id:"footerControl"},j={key:1,class:"control-pair"},V={class:"control-pair"},F={class:"control-pair"};const H=Object.assign({name:"HomeView"},{__name:"HomeView",setup:function(e){var t=(0,D.Pj)(),n=(0,U.rd)(),a=(0,s.KR)(null),c=(0,i.WQ)("$modal"),l=(0,i.EW)((function(){return t.getters["save/hasSave"]})),p=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("save/clearSave");case 2:return e.next=4,t.dispatch("sections/loadSectionsIndex");case 4:n.push("/sections");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){n.push("/sections")},v=function(){n.push("/review")},f=function(){n.push("/settings")},m=function(){l.value&&!confirm(t.$i18n.t("confirmImport"))||a.value.click()},h=function(){var e=(0,o.A)((0,r.A)().mark((function e(n){var o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=n.target.files[0],o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.dispatch("save/importSave",o);case 6:c.show("success",{title:"成功",content:"导入存档成功"}),location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),c.show("error",{title:"错误",content:e.t0.message});case 13:return e.prev=13,n.target.value="",e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm(t.$i18n.t("confirmDelete"))){e.next=4;break}return e.next=3,t.dispatch("save/clearSave");case 3:location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){c.show("creators-message",{title:"制作者信息",content:"这里是制作者信息内容...",closeButtonText:"关闭"})},k=function(){c.show("update-log",{title:"更新日志",content:"这里是更新日志内容...",closeButtonText:"关闭"})};return(0,i.sV)((function(){console.log("HomeView mounted"),console.log("Component data:",{})})),function(e,t){var n=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",$,[(0,i.Lk)("h1",null,(0,u.v_)(e.$t("mainTitle")),1),(0,i.Lk)("h2",null,(0,u.v_)(e.$t("subTitle")),1),(0,i.Lk)("p",N,(0,u.v_)(e.$t("gameDescription")),1),(0,i.Lk)("div",R,[(0,i.Lk)("div",X,[(0,i.Lk)("button",{class:"button",onClick:A},(0,u.v_)(e.$t("creatorsMessage")),1),(0,i.Lk)("button",{class:"button",onClick:k},(0,u.v_)(e.$t("updateLog")),1)]),l.value?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("button",{key:0,class:"button",onClick:p},(0,u.v_)(e.$t("newGame")),1)),l.value?((0,i.uX)(),(0,i.CE)("div",j,[(0,i.Lk)("button",{class:"button",onClick:d},(0,u.v_)(e.$t("continueGame")),1),(0,i.Lk)("button",{class:"button",onClick:v},(0,u.v_)(e.$t("reviewRecords")),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",V,[(0,i.Lk)("button",{class:"button",onClick:m},(0,u.v_)(e.$t("importSave")),1),l.value?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"button",onClick:t[0]||(t[0]=function(){return e.exportSave&&e.exportSave.apply(e,arguments)})},(0,u.v_)(e.$t("exportSave")),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",F,[(0,i.Lk)("button",{class:"button",onClick:f},[t[1]||(t[1]=(0,i.Lk)("img",{src:M,alt:""},null,-1)),(0,i.eW)(" "+(0,u.v_)(e.$t("settings")),1)]),l.value?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"button",onClick:g},(0,u.v_)(e.$t("deleteSave")),1)):(0,i.Q3)("",!0)])]),(0,i.Lk)("input",{ref_key:"fileInput",ref:a,type:"file",style:{display:"none"},accept:".savegame",onChange:h},null,544),(0,i.bF)(n,{to:"/review",class:"menu-item"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,u.v_)(e.$t("reviewTitle")),1)]})),_:1})])}}}),Q=(0,v.A)(H,[["__scopeId","data-v-efb39310"]]),W=Q;var J=n(5246),G=n(6992),Y={class:"sections-container"},z=["onClick"],q={key:1,class:"section-content"},Z=["src","alt"],ee=["onClick"],te=["onClick"],ne={key:2,class:"locked-section"};const re=Object.assign({name:"SectionsView"},{__name:"SectionsView",setup:function(e){var t=(0,D.Pj)(),n=(0,U.rd)(),a=(0,G.s9)(),c=a.t,s=(0,i.EW)((function(){return t.state.sections.chapters})),l=function(e){return t.getters["sections/isSectionUnlocked"](e)},p=function(e){return t.getters["sections/isSectionCompleted"](e)},d=function(){var e=(0,o.A)((0,r.A)().mark((function e(o){var a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("sections/loadSection",o);case 2:return a=t.getters["sections/getCurrentSection"],e.next=5,t.dispatch("game/initializeGame",a);case 5:n.push("/story");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.A)((0,r.A)().mark((function e(o){var a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("sections/loadSection",o);case 2:return a=t.getters["sections/getCurrentSection"],e.next=5,t.dispatch("game/initializeGame",{section:a,isReplay:!0});case 5:n.push("/story");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.A)((0,r.A)().mark((function e(n){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.dispatch("sections/skipSection",n);case 2:(0,J.dj)().success(c("sectionSkipped"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){n.push("/")};return(0,i.sV)((function(){0===s.value.length&&t.dispatch("sections/loadSectionsIndex")})),function(e,t){return(0,i.uX)(),(0,i.CE)("div",Y,[(0,i.Lk)("h2",null,(0,u.v_)(e.$t("chooseSection")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.value,(function(t){return(0,i.uX)(),(0,i.CE)("div",{key:t.title,class:"chapter"},[(0,i.Lk)("h3",null,(0,u.v_)(t.title),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.sections,(function(t){return(0,i.uX)(),(0,i.CE)("div",{key:t.id,class:"section"},[p(t.id)?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"button completed",onClick:function(e){return v(t.file)}},(0,u.v_)(t.title)+" ("+(0,u.v_)(e.$t("completed"))+") - "+(0,u.v_)(e.$t("replay")),9,z)):l(t.id)?((0,i.uX)(),(0,i.CE)("div",q,[(0,i.Lk)("img",{src:t.image,alt:"".concat(t.title," thumbnail")},null,8,Z),(0,i.Lk)("button",{class:"button",onClick:function(e){return d(t.file)}},(0,u.v_)(t.title),9,ee),(0,i.Lk)("button",{class:"button button-skip",onClick:function(e){return f(t.file)}},(0,u.v_)(e.$t("skip"))+" "+(0,u.v_)(t.title),9,te)])):((0,i.uX)(),(0,i.CE)("div",ne,(0,u.v_)(t.title)+" ("+(0,u.v_)(e.$t("locked"))+") ",1))])})),128))])})),128)),(0,i.Lk)("button",{class:"button",onClick:m},(0,u.v_)(e.$t("returnToMenu")),1)])}}}),oe=(0,v.A)(re,[["__scopeId","data-v-ad89b3d6"]]),ae=oe;var ce=n(5026),ie=n(9492),se=(n(5276),n(6033),n(1415),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),function(){function e(){(0,ce.A)(this,e),this.loadedImages=new Set,this.loading=new Map}return(0,ie.A)(e,[{key:"preloadImage",value:function(){var e=(0,o.A)((0,r.A)().mark((function e(t){var n,o=this;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loadedImages.has(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!this.loading.has(t)){e.next=4;break}return e.abrupt("return",this.loading.get(t));case 4:return n=new Promise((function(e,n){var r=new Image;r.onload=function(){o.loadedImages.add(t),o.loading["delete"](t),e(t)},r.onerror=function(){o.loading["delete"](t),n(new Error("Failed to load image: ".concat(t)))},r.src=t})),this.loading.set(t,n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"preloadBatch",value:function(){var e=(0,o.A)((0,r.A)().mark((function e(t){var n,o,a,c,i,s,u,l,p=this,d=arguments;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=d.length>1&&void 0!==d[1]?d[1]:3,o=d.length>2&&void 0!==d[2]?d[2]:1e3,a=[],c=0;c<t.length;c+=n)i=t.slice(c,c+n),a.push(i);s=0,u=a;case 5:if(!(s<u.length)){e.next=21;break}return l=u[s],e.prev=7,e.next=10,Promise.all(l.map((function(e){return p.preloadImage(e)})));case 10:if(!(a.indexOf(l)<a.length-1)){e.next=13;break}return e.next=13,new Promise((function(e){return setTimeout(e,o)}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](7),console.error("Error preloading batch:",e.t0);case 18:s++,e.next=5;break;case 21:case"end":return e.stop()}}),e,null,[[7,15]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isImageLoaded",value:function(e){return this.loadedImages.has(e)}}])}()),ue=new se,le={class:"lazy-image-container"},pe=["src","alt"],de={key:1,class:"image-placeholder"};const ve={__name:"LazyImage",props:{src:{type:String,required:!0},alt:{type:String,default:""}},setup:function(e){var t=e,n=(0,s.KR)(ue.isImageLoaded(t.src));(0,i.sV)((0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.value){e.next=10;break}return e.prev=1,e.next=4,ue.preloadImage(t.src);case 4:n.value=!0,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.error("Failed to load image:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))));var a=function(){return n.value=!0},c=function(){return console.error("Image load error:",t.src)};return function(t,r){return(0,i.uX)(),(0,i.CE)("div",le,[n.value?((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.src,alt:e.alt,class:"lazy-image",onLoad:a,onError:c},null,40,pe)):((0,i.uX)(),(0,i.CE)("div",de,r[0]||(r[0]=[(0,i.Lk)("span",null,"加载中...",-1)])))])}}},fe=(0,v.A)(ve,[["__scopeId","data-v-7ca93202"]]),me=fe;n(4423),n(1699);var he={key:0,class:"music-player"},ge=["src"],Ae=["src"];const ke={__name:"MusicPlayer",props:{musicUrl:{type:String,required:!0}},setup:function(e){var t=e,n=(0,i.EW)((function(){return t.musicUrl.includes("bilibili.com")})),r=(0,i.EW)((function(){return t.musicUrl.includes("music.163.com")}));return function(t,o){return e.musicUrl?((0,i.uX)(),(0,i.CE)("div",he,[n.value?((0,i.uX)(),(0,i.CE)("iframe",{key:0,src:e.musicUrl,scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"false",style:{width:"100%",height:"100%"}},null,8,ge)):r.value?((0,i.uX)(),(0,i.CE)("iframe",{key:1,src:e.musicUrl,scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"false",style:{width:"330px",height:"86px"}},null,8,Ae)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)}}},be=(0,v.A)(ke,[["__scopeId","data-v-98bb9a3e"]]),Se=be;var we={class:"story-container"};const ye=Object.assign({name:"StoryView"},{__name:"StoryView",setup:function(e){var t=(0,D.Pj)(),n=(0,i.EW)((function(){return t.state.sections.currentSection}));return function(e,t){return(0,i.uX)(),(0,i.CE)("div",we,[(0,i.Lk)("h2",null,(0,u.v_)(n.value.title),1),n.value.image?((0,i.uX)(),(0,i.Wv)(me,{key:0,src:n.value.image,alt:n.value.title},null,8,["src","alt"])):(0,i.Q3)("",!0),n.value.musicUrl?((0,i.uX)(),(0,i.Wv)(Se,{key:1,"music-url":n.value.musicUrl},null,8,["music-url"])):(0,i.Q3)("",!0)])}}}),xe=(0,v.A)(ye,[["__scopeId","data-v-1580d999"]]),Ee=xe;var Ce={class:"settings-container"},_e={class:"settings-form"},Le={for:"api-key"},Ie=["placeholder","disabled"],Te={for:"api-url"},Pe=["placeholder"],Oe={for:"advanced-model"},Be={for:"basic-model"},Ue={class:"button-container"};const Ke=Object.assign({name:"SettingsView"},{__name:"SettingsView",setup:function(e){var t=this,n=(0,D.Pj)(),l=(0,s.KR)({apiKey:"",apiUrl:"",advancedModel:"",basicModel:"",isPublicKey:!1}),p=(0,i.EW)((function(){return{apiKey:n.state.settings.apiKey,apiUrl:n.state.settings.apiUrl,advancedModel:n.state.settings.advancedModel,basicModel:n.state.settings.basicModel,isPublicKey:n.state.settings.isPublicKey}})),d=function(){l.value=(0,c.A)({},p.value)},v=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("settings/saveSettings",l.value);case 2:t.$toast.success(t.$t("settings.savedMessage"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.A)((0,r.A)().mark((function e(){var o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("settings/getPublicKey");case 2:o=e.sent,o?(t.$toast.success(t.$t("settings.publicKeyFetched")),d()):t.$toast.error(t.$t("settings.publicKeyFetchFailed"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.A)((0,r.A)().mark((function e(){return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.dispatch("settings/resetSettings");case 2:d(),t.$toast.info(t.$t("settings.resetMessage"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){t.$modal.show("settings-help",{title:t.$t("settings.helpTitle"),content:t.$t("settings.helpContent")})};return(0,i.sV)((function(){n.dispatch("settings/loadSettings"),d()})),function(e,t){return(0,i.uX)(),(0,i.CE)("div",Ce,[(0,i.Lk)("h2",null,(0,u.v_)(e.$t("settings.title")),1),(0,i.Lk)("div",_e,[(0,i.Lk)("label",Le,(0,u.v_)(e.$t("settings.apiKeyLabel")),1),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"api-key","onUpdate:modelValue":t[0]||(t[0]=function(e){return l.value.apiKey=e}),placeholder:e.$t("settings.apiKeyPlaceholder"),disabled:l.value.isPublicKey},null,8,Ie),[[a.Jo,l.value.apiKey]]),(0,i.Lk)("label",Te,(0,u.v_)(e.$t("settings.apiUrlLabel")),1),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"api-url","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.value.apiUrl=e}),placeholder:e.$t("settings.apiUrlPlaceholder")},null,8,Pe),[[a.Jo,l.value.apiUrl]]),(0,i.Lk)("label",Oe,(0,u.v_)(e.$t("settings.advancedModelLabel")),1),(0,i.bo)((0,i.Lk)("select",{id:"advanced-model","onUpdate:modelValue":t[2]||(t[2]=function(e){return l.value.advancedModel=e})},t[4]||(t[4]=[(0,i.Lk)("option",{value:"gpt-4o-mini"},"gpt-4o-mini",-1)]),512),[[a.u1,l.value.advancedModel]]),(0,i.Lk)("label",Be,(0,u.v_)(e.$t("settings.basicModelLabel")),1),(0,i.bo)((0,i.Lk)("select",{id:"basic-model","onUpdate:modelValue":t[3]||(t[3]=function(e){return l.value.basicModel=e})},t[5]||(t[5]=[(0,i.Lk)("option",{value:"gpt-4o-mini"},"gpt-4o-mini",-1)]),512),[[a.u1,l.value.basicModel]]),(0,i.Lk)("div",Ue,[(0,i.Lk)("button",{onClick:v},(0,u.v_)(e.$t("settings.saveButton")),1),(0,i.Lk)("button",{onClick:f},(0,u.v_)(e.$t("settings.publicKeyButton")),1),(0,i.Lk)("button",{onClick:m},(0,u.v_)(e.$t("settings.resetButton")),1),(0,i.Lk)("button",{onClick:h},(0,u.v_)(e.$t("settings.helpButton")),1)])])])}}}),Me=Ke,De=Me;var $e=[{path:"/",name:"Home",component:W},{path:"/sections",name:"Sections",component:ae},{path:"/story",name:"Story",component:Ee},{path:"/settings",name:"Settings",component:De},{path:"/review",name:"Review",component:function(){return n.e(561).then(n.bind(n,9561))},meta:{title:"reviewTitle"}}],Ne=(0,U.aE)({history:(0,U.LA)(K.BASE_PATH),routes:$e});const Re=Ne;n(1688),n(739),n(3110),n(3296),n(7208),n(8408),n(4603),n(7566),n(8721);var Xe=n(1396),je=n.n(Xe),Ve="beyondBooksSaveData",Fe="YourExportSecretKey",He="reviewRecords",Qe=function(){return{hasSave:!1,currentSectionId:null,completedSections:[],unlockedSections:[],globalInfluencePoints:[],gameData:null}},We={SET_HAS_SAVE:function(e,t){e.hasSave=t},SET_SAVE_DATA:function(e,t){t?(e.currentSectionId=t.currentSectionId,e.completedSections=t.completedSections,e.unlockedSections=t.unlockedSections,e.globalInfluencePoints=t.globalInfluencePoints,e.hasSave=!0):(e.currentSectionId=null,e.completedSections=[],e.unlockedSections=[1],e.globalInfluencePoints=[],e.hasSave=!1)},SET_GAME_DATA:function(e,t){e.gameData=t},CLEAR_SAVE:function(e){e.gameData=null}},Je={loadSave:function(e){var t=e.commit,n=localStorage.getItem(Ve),r=n?JSON.parse(n):null;return t("SET_SAVE_DATA",r),r},saveSave:function(e){var t=e.state,n={currentSectionId:t.currentSectionId,completedSections:t.completedSections,unlockedSections:t.unlockedSections,globalInfluencePoints:t.globalInfluencePoints};localStorage.setItem(Ve,JSON.stringify(n))},clearSave:function(e){var t=e.commit;t("CLEAR_SAVE"),localStorage.removeItem(Ve)},exportSave:function(e){return(0,o.A)((0,r.A)().mark((function t(){var n,o,a,c,i,s,u,l,p,d;return(0,r.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,o=JSON.stringify({currentSectionId:n.currentSectionId,completedSections:n.completedSections,unlockedSections:n.unlockedSections,globalInfluencePoints:n.globalInfluencePoints}),a=localStorage.getItem(He)||"{}",c=JSON.stringify({gameData:je().AES.encrypt(o,Fe).toString(),reviewData:je().AES.encrypt(a,Fe).toString()}),i=new Blob([c],{type:"application/octet-stream"}),s=URL.createObjectURL(i),u=new Date,l=u.toISOString().replace(/[:.]/g,"-").slice(0,19),p="BeyondBooks存档_".concat(l,".savegame"),d=document.createElement("a"),d.href=s,d.download=p,d.click(),URL.revokeObjectURL(s);case 14:case"end":return t.stop()}}),t)})))()},importSave:function(e,t){return(0,o.A)((0,r.A)().mark((function n(){var a;return(0,r.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.abrupt("return",new Promise((function(e,n){var c=new FileReader;c.onload=function(){var t=(0,o.A)((0,r.A)().mark((function t(o){var c,i,s;return(0,r.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{c=JSON.parse(o.target.result),i=JSON.parse(je().AES.decrypt(c.gameData,Fe).toString(je().enc.Utf8)),s=JSON.parse(je().AES.decrypt(c.reviewData,Fe).toString(je().enc.Utf8)),localStorage.setItem(Ve,JSON.stringify(i)),a("SET_SAVE_DATA",i),localStorage.setItem(He,JSON.stringify(s)),e()}catch(r){n(new Error("导入失败，密钥不匹配或数据损坏"))}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.onerror=function(){return n(new Error("读取文件失败"))},c.readAsText(t)})));case 2:case"end":return n.stop()}}),n)})))()}},Ge={saveData:function(e){return{currentSectionId:e.currentSectionId,completedSections:e.completedSections,unlockedSections:e.unlockedSections,globalInfluencePoints:e.globalInfluencePoints}},hasSave:function(e){return!!e.gameData}};const Ye={namespaced:!0,state:Qe,mutations:We,actions:Je,getters:Ge};var ze=n(5492),qe="ReadingThisIsASpoilerForYourself";function Ze(){return et.apply(this,arguments)}function et(){return et=(0,o.A)((0,r.A)().mark((function e(){var t,n,o;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=h(),e.next=4,fetch("".concat(t,"/sections/sections.bbs?v=").concat((new Date).getTime()));case 4:if(n=e.sent,n.ok){e.next=7;break}throw new Error("HTTP error! status: ".concat(n.status));case 7:return e.next=9,n.text();case 9:return o=e.sent,e.abrupt("return",rt(o,qe));case 13:throw e.prev=13,e.t0=e["catch"](0),console.error("加载章节索引失败:",e.t0),new Error("加载章节失败，请检查网络连接或刷新页面重试");case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),et.apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return nt=(0,o.A)((0,r.A)().mark((function e(t){var n,o,a;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=h(),e.next=3,fetch("".concat(n,"/sections/").concat(t,"?v=").concat((new Date).getTime()));case 3:return o=e.sent,e.next=6,o.text();case 6:return a=e.sent,e.abrupt("return",rt(a,qe));case 8:case"end":return e.stop()}}),e)}))),nt.apply(this,arguments)}function rt(e,t){var n=je().AES.decrypt(e,t),r=n.toString(je().enc.Utf8);try{return JSON.parse(r)}catch(o){throw console.error("解析JSON时出错:",o.message),o}}var ot=function(){return{chapters:[],unlockedSections:[],completedSections:[],currentSection:null}},at={SET_CHAPTERS:function(e,t){e.chapters=t},SET_UNLOCKED_SECTIONS:function(e,t){e.unlockedSections=t},SET_COMPLETED_SECTIONS:function(e,t){e.completedSections=t},SET_CURRENT_SECTION:function(e,t){e.currentSection=t}},ct={loadSectionsIndex:function(e){return(0,o.A)((0,r.A)().mark((function t(){var n,o;return(0,r.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,console.log("开始加载章节索引..."),t.next=5,Ze();case 5:o=t.sent,console.log("章节索引加载成功:",o),n("SET_CHAPTERS",o.chapters),t.next=14;break;case 10:throw t.prev=10,t.t0=t["catch"](1),console.error("加载章节索引失败:",t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},loadSection:function(e,t){return(0,o.A)((0,r.A)().mark((function n(){var o,a;return(0,r.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.commit,n.next=3,tt(t);case 3:if(a=n.sent,!a.image){n.next=7;break}return n.next=7,ue.preloadImage(a.image);case 7:o("SET_CURRENT_SECTION",a);case 8:case"end":return n.stop()}}),n)})))()},unlockSection:function(e,t){var n=e.commit,r=e.state,o=[].concat((0,ze.A)(r.unlockedSections),[t]);n("SET_UNLOCKED_SECTIONS",o)},completeSection:function(e,t){var n=e.commit,r=e.state,o=[].concat((0,ze.A)(r.completedSections),[t]);n("SET_COMPLETED_SECTIONS",o)},skipSection:function(e,t){return(0,o.A)((0,r.A)().mark((function n(){var o,a;return(0,r.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.dispatch,n.next=3,tt(t);case 3:a=n.sent,o("completeSection",a.id),o("unlockSection",a.id+1);case 6:case"end":return n.stop()}}),n)})))()},preloadSectionImages:function(e){return(0,o.A)((0,r.A)().mark((function t(){var n,o;return(0,r.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,o=[],n.chapters.forEach((function(e){e.sections.forEach((function(e){e.image&&o.push(e.image)}))})),t.next=5,ue.preloadBatch(o);case 5:case"end":return t.stop()}}),t)})))()}},it={isSectionUnlocked:function(e){return function(t){return e.unlockedSections.includes(t)}},isSectionCompleted:function(e){return function(t){return e.completedSections.includes(t)}},getCurrentSection:function(e){return e.currentSection}};const st={namespaced:!0,state:ot,mutations:at,actions:ct,getters:it},ut=(0,D.y$)({modules:{save:Ye,sections:st}});var lt={settings:{title:"设置",apiKeyLabel:"API Key",apiKeyPlaceholder:"输入你的API Key",apiUrlLabel:"API URL",apiUrlPlaceholder:"输入API URL",advancedModelLabel:"进阶模型 (用于桥段总结)",basicModelLabel:"基本模型 (用于其他操作)",saveButton:"保存设置",publicKeyButton:"获取公共key",resetButton:"恢复默认设置",helpButton:"这是什么？",savedMessage:"设置已保存",publicKeyFetched:"公共 Key 已成功获取并保存",resetMessage:"设置已恢复默认",helpTitle:"帮助信息",helpContent:"\n      <p>本游戏<strong>基于</strong>可访问<strong>大语言模型</strong>的接口API进行，您可自行寻找相关API服务，默认API地址不构成推荐建议</p>\n      <p>第一次打开游戏网页时会自动尝试获取公共key，所以您可能直接开始游戏就可以游玩了。</p>\n      <p>公共key是作者买来给大家玩的</p>\n      <p>如遇无法输入API KEY，可以刷新网页</p>\n    ",publicKeyFetchFailed:"获取公共 Key 失败，请检查网络连接或稍后再试",apiKeyDisabled:"API Key 已被禁用，因为正在使用公共 Key",text:"设置"},reviewTitle:"桥段回顾",returnToMenu:"返回主菜单",noReviewRecords:"暂无桥段回顾记录。",rename:"重命名",delete:"删除",viewDetails:"查看详情",reviewDetails:"回顾详情",exportAsHTML:"导出为HTML",exportAsImage:"导出为长图",exportAsMultipleImages:"导出为多图",enterNewTitle:"请输入新的标题",confirmDelete:"您确定要删除这条回顾记录吗？",close:"关闭",newGame:"开始新游戏",continueGame:"继续游戏",reviewRecords:"回顾记录",importSave:"导入存档",exportSave:"导出存档",deleteSave:"删除存档",confirmImport:"您确定要导入并覆盖存档吗？此操作无法撤销。您可以先导出自己的存档进行备份。",success:"成功",error:"错误",importSuccess:"存档已成功导入",tutorial:{title:"游戏教程",close:"关闭",understand:"我明白了",content:{intro:"你可以把本游戏理解为..."}},exportHTML:"导出HTML",exportImage:"导出长图",exportMultipleImages:"导出多图"};const pt=(0,G.hU)({legacy:!1,locale:"zh-CN",messages:{"zh-CN":lt}});var dt={install:function(e){var t=(0,s.KR)({show:!1,title:"",content:"",closeButtonText:"关闭",buttons:[],large:!1}),n={show:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.value=(0,c.A)((0,c.A)({},t.value),{},{show:!0},n)},hide:function(){t.value.show=!1}};e.provide("$modal",n);var r=(0,a.Ef)({setup:function(){return function(){return(0,i.h)(m,(0,c.A)((0,c.A)({},t.value),{},{"onUpdate:show":function(e){return t.value.show=e},onClose:function(){return n.hide()}}))}}}),o=document.createElement("div");document.body.appendChild(o),r.mount(o)}};const vt=dt;var ft=n(3772),mt={ADVANCED:"advanced",BASIC:"basic"},ht=((0,ft.A)((0,ft.A)({},mt.ADVANCED,"gpt-4o-mini"),mt.BASIC,"gpt-4o-mini"),"settings");function gt(){return At.apply(this,arguments)}function At(){return At=(0,o.A)((0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=localStorage.getItem(ht),e.abrupt("return",t?JSON.parse(t):kt());case 2:case"end":return e.stop()}}),e)}))),At.apply(this,arguments)}function kt(){return{apiKey:"",apiUrl:"https://api.deepbricks.ai/v1/",advancedModel:"gpt-4o-mini",basicModel:"gpt-4o-mini",isPublicKey:!1}}n(7917);var bt={position:"top-right",timeout:3e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1};const St=J.Ay;function wt(){return yt.apply(this,arguments)}function yt(){return yt=(0,o.A)((0,r.A)().mark((function e(){var t;return(0,r.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gt();case 3:t=(0,a.Ef)(B),t.config.errorHandler=function(e,t,n){console.error("Vue Error:",e),console.log("Component:",t),console.log("Error Info:",n)},t.use(Re),t.use(ut),t.use(pt),t.use(vt),t.use(St,bt),t.mount("#app"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.error("初始化失败:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),yt.apply(this,arguments)}wt()},477:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var c=1/0;for(l=0;l<e.length;l++){for(var[r,o,a]=e[l],i=!0,s=0;s<r.length;s++)(!1&a||c>=a)&&Object.keys(n.O).every((e=>n.O[e](r[s])))?r.splice(s--,1):(i=!1,a<c&&(c=a));if(i){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,o,a]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[]))})(),(()=>{n.u=e=>"assets/js/"+e+".2eb56698.js"})(),(()=>{n.miniCssF=e=>"assets/css/"+e+".662c6ded.css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="beyond-books-vue:";n.l=(r,o,a,c)=>{if(e[r])e[r].push(o);else{var i,s;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+a){i=p;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[o];var d=(t,n)=>{i.onerror=i.onload=null,clearTimeout(v);var o=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(n))),t)return t(n)},v=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/vue/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,r,o,a)=>{var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",n.nc&&(c.nonce=n.nc);var i=n=>{if(c.onerror=c.onload=null,"load"===n.type)o();else{var r=n&&n.type,i=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+i+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=r,s.request=i,c.parentNode&&c.parentNode.removeChild(c),a(s)}};return c.onerror=c.onload=i,c.href=t,r?r.parentNode.insertBefore(c,r.nextSibling):document.head.appendChild(c),c},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var c=document.getElementsByTagName("style");for(r=0;r<c.length;r++){o=c[r],a=o.getAttribute("data-href");if(a===e||a===t)return o}},r=r=>new Promise(((o,a)=>{var c=n.miniCssF(r),i=n.p+c;if(t(c,i))return o();e(r,i,null,o,a)})),o={524:0};n.f.miniCss=(e,t)=>{var n={561:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))}}})(),(()=>{var e={524:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=a);var c=n.p+n.u(t),i=new Error,s=r=>{if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),c=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+c+")",i.name="ChunkLoadError",i.type=a,i.request=c,o[1](i)}};n.l(c,s,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[c,i,s]=r,u=0;if(c.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var l=s(n)}for(t&&t(r);u<c.length;u++)a=c[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},r=self["webpackChunkbeyond_books_vue"]=self["webpackChunkbeyond_books_vue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],(()=>n(3557)));r=n.O(r)})();